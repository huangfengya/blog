### CommonJs 的模块规范

CommonJs 是一种使用广泛的 JavaScript 模块化规范，核心思想是通过 require 方法来同步的加载依赖的其他模块，通过 module.exports 导出需要暴露的接口

#### 模块引用

在 CommonJs 规范中，使用 **require** 方法，这个方法接受 **模块标识**，以此引入一个模块的 API 到当前上下文中。

```javascript
const path = require('path')
```

#### 模块定义

上下文提供了 **exports** 对象用于导出当前模块的方法或变量，并且他是唯一的导出的出口。

在模块中，还存在一个 **module** 对象，他代表模块自身，而 exports 是 module 的属性。

在 Node 中，一个文件就是一个模块，将方法挂载在 exports 对象作为属性即可定义导出的方式。

```javascript
exports.sum = function(a, b) {
  return (a + b)
}
```

#### 模块标识

模块标识起始就是传递给 require 方法的参数，它必须是符合小驼峰命名的字符串，或者相对路径/绝对路径

### Node 的模块实现

#### 在 Node 中引入模块的步骤

1. 路径分析
2. 文件定位
3. 编译执行

#### 模块分类

##### 原生模块

**http**、**fs**、**path**、**events** 等模块都是 Node 提供的模块，这些模块在 Node 源代码的编译过程中被编译成二进制。在 Node 启动的时，部分原生代码就被直接加入内存中，所以原生模块引入时文件定位和编译执行这两个步骤可以省略掉，并且在路径分析中优先判断，所以加载速度最快。

##### 文件模块


