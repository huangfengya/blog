## 域名解析过程

1. 当输入域名后，首先检查本地 hosts 文件是否有映射，如果有则使用该 IP，完成解析
2. 如果 hosts 文件中没有，则查找本地 DNS 解析器缓存是否有映射，有则返回
3. 如果 hosts 和 DNS 解析器缓存中都没有相应的映射关系，首先会找 TCP/IP 中也只的首选服务器，也就是 DNS 服务器，如果要查询的域名在本地配置区域资源中，则返回解析结果，此解析具有权威性
4. 如果要查询的域名不由本地 DNS 服务器解析，但是该服务器已经缓存了此域名映射关系，则调用这个映射，完成解析，此解析不具有权威性
5. 如果本地 DNS 服务器与缓存解析都失败，则根据本地DNS服务器的设置（是否转发）进行查询
  5.1 如果不设置转发，就是迭代查询
  5.2 设置转发，就是递归查询

## 递归查询

主机向本地域名服务器的查询一般都是递归查询：
如果主机所询问的本地域名服务器不知道被查询的域名的IP地址，那么本地域名服务器就以DNS客户的身份向其他根域名服务器继续发出查询请求报文（即替代主机查询）。因此递归查询返回的查询结果或者是所要查询的IP地址，或者是报错（没有查到地址）

## 迭代查询

特点：当根域名服务器收到本地域名服务器发出的迭代请求，要么就是给出所要查询的IP地址，要么告诉本地服务器应该向哪一个域名服务器进行查询