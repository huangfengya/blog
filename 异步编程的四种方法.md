## 何谓同步和异步

首先，JavaScript 语言的执行环境是 "单线程"，所谓单线程就是一次只能完成一个任务，如果有多个任务，就必须排队。

同步模式就是 one by one 的顺序，后一个任务等待前一个任务的完成，然后在执行；而异步模式则不同，每一个任务有一个或多个回调函数，前一个任务结束后不是执行后一个任务，而是执行回调函数，后一个不等前一个执行完毕就开始执行。

### 回调函数方式

异步编程最基本的方法

```
f1()
f2()
f3()

// 改写后
f1(f2) {
    if (complete) {
        f2()
    }
}
f3()
```

特点：简单易部署，但是不利于代码的阅读和维护，耦合性比较高

### 事件监听模式

采用事件驱动模式，即当某个事件发生，就执行回调。

```
function f1() {
    if (complete) {
        f1.trigger("done")
    }
}
f1.on('done', f2)
```

特点：简单易理解，可以绑定多个事件，缺点是整个程序都会变成事件驱动，运行流程会变得很不清晰

### 发布/订阅模式

```
function() {
    if (complete) {
        event.emit('done')
    }
}
event.on('done', f2)
```

特点：和事件监听模式很像，但是这个模式可以查看有多少订阅者，有多少事件

### Promise

```javascript
function f1() {
    return new Promise(resove => {
      if (complete){
          resolve
      }
    })    
}
f1().then(() => {
    f2()
})
```

特点：链式调用，好用好理解